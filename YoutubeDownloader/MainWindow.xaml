<Window x:Class="YouTubeDownloader.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="YouTube Video Downloader" Height="750" Width="900"
        ResizeMode="CanResize" WindowStartupLocation="CenterScreen"
        Background="#F8F9FA" MinHeight="600" MinWidth="700">

    <Window.Resources>
        <!-- Button Styles -->
        <Style x:Key="PrimaryButton" TargetType="Button">
            <Setter Property="Background" Value="#007BFF"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="4" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#0056B3"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Background" Value="#6C757D"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SuccessButton" TargetType="Button">
            <Setter Property="Background" Value="#28A745"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="4" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#1E7E34"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Background" Value="#6C757D"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SecondaryButton" TargetType="Button">
            <Setter Property="Background" Value="#6C757D"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="4" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#545B62"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Simplified ComboBox Style with Centered Text -->
        <Style TargetType="ComboBox">
            <Setter Property="BorderBrush" Value="#CED4DA"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Background" Value="White"/>
        </Style>

        <!-- GroupBox Style -->
        <Style TargetType="GroupBox">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#DEE2E6"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="15"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Margin" Value="0,0,0,15"/>
        </Style>
    </Window.Resources>

    <!-- Main Scrollable Container -->
    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <Grid Margin="25">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <StackPanel Grid.Row="0" Margin="0,0,0,25">
                <TextBlock Text="YouTube Downloader" FontSize="24" FontWeight="Bold" 
                           Foreground="#495057" HorizontalAlignment="Center"/>
                <TextBlock 
                           FontSize="12" Foreground="#6C757D" HorizontalAlignment="Center" 
                           Margin="0,5,0,0"><Run Text="Download videos in high quality including 4K, 8K and extract audio"/><LineBreak/><Run/></TextBlock>
                <TextBlock 
           FontSize="12" Foreground="#6C757D" HorizontalAlignment="Center" 
           Margin="0,5,0,0"><Run Text="Created by CTMAQIL - ctmstudios.org"/><LineBreak/><Run/></TextBlock>
            </StackPanel>

            <!-- URL Input Section -->
            <GroupBox Grid.Row="1" Header="Video URL">
                <StackPanel>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBox x:Name="UrlTextBox" Grid.Column="0" Height="40" 
                                 VerticalContentAlignment="Center" Margin="0,0,15,0"
                                 FontSize="12" BorderBrush="#CED4DA" BorderThickness="1" Padding="8"/>

                        <Button x:Name="PreviewButton" Grid.Column="1" Content="🔍 Preview" 
                                Width="120" Height="40" Style="{StaticResource PrimaryButton}"
                                FontSize="12" Click="PreviewButton_Click"/>
                    </Grid>

                    <TextBlock Text="Paste any YouTube video URL above to get started" 
                               FontSize="10" Foreground="#6C757D" Margin="0,8,0,0"/>
                </StackPanel>
            </GroupBox>

            <!-- Video Info Section -->
            <GroupBox x:Name="VideoInfoGroup" Grid.Row="2" Header="📹 Video Information" 
                      Visibility="Collapsed">
                <Grid Height="160">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="220"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Thumbnail -->
                    <Border Grid.Column="0" BorderBrush="#DEE2E6" BorderThickness="1" 
                            CornerRadius="4">
                        <Image x:Name="ThumbnailImage" Stretch="UniformToFill"/>
                    </Border>

                    <!-- Video Details -->
                    <StackPanel Grid.Column="1" Margin="20,0,0,0">
                        <TextBlock Text="Title:" FontWeight="SemiBold" FontSize="11" 
                                   Foreground="#495057"/>
                        <TextBlock x:Name="TitleTextBlock" FontSize="13" FontWeight="SemiBold" 
                                   TextWrapping="Wrap" Height="60" Margin="0,5,0,10"
                                   Text="Video title will appear here..."
                                   Foreground="#212529"/>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Margin="0,0,20,0">
                                <TextBlock Text="Duration:" FontSize="10" Foreground="#6C757D"/>
                                <TextBlock x:Name="DurationTextBlock" FontSize="12" FontWeight="SemiBold"
                                           Text="--:--" Foreground="#495057"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Views:" FontSize="10" Foreground="#6C757D"/>
                                <TextBlock x:Name="ViewsTextBlock" FontSize="12" FontWeight="SemiBold"
                                           Text="--" Foreground="#495057"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Grid>
            </GroupBox>

            <!-- Download Settings -->
            <GroupBox Grid.Row="3" Header="⚙️ Download Settings">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Quality and Format Row -->
                    <Grid Grid.Row="0" Margin="0,0,0,20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="15"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="15"/>
                            <ColumnDefinition Width="180"/>
                        </Grid.ColumnDefinitions>

                        <!-- Quality Selection -->
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Quality:" FontWeight="SemiBold" FontSize="11" 
                                       Margin="0,0,0,5"/>
                            <ComboBox x:Name="QualityComboBox" Height="35"/>
                        </StackPanel>

                        <!-- Format Selection -->
                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Format:" FontWeight="SemiBold" FontSize="11" 
                                       Margin="0,0,0,5"/>
                            <ComboBox x:Name="FormatComboBox" Height="35">
                                <ComboBoxItem Content="🎬 Video - MP4 (H264)" IsSelected="True"/>
                                <ComboBoxItem Content="🎵 Audio Only - MP3"/>
                                <ComboBoxItem Content="🎵 Audio Only - WAV"/>
                                <ComboBoxItem Content="🎵 Audio Only - AAC"/>
                                <ComboBoxItem Content="🎵 Audio Only - FLAC"/>
                            </ComboBox>
                        </StackPanel>

                        <!-- Download Button -->
                        <Button x:Name="DownloadButton" Grid.Column="4" Content="⬇️ Download" 
                                Height="50" Style="{StaticResource SuccessButton}" FontSize="14"
                                Click="DownloadButton_Click" IsEnabled="False"/>
                    </Grid>

                    <!-- Output Folder Row -->
                    <StackPanel Grid.Row="1">
                        <TextBlock Text="Output Folder:" FontWeight="SemiBold" FontSize="11" 
                                   Margin="0,0,0,5"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="OutputPathTextBox" Grid.Column="0" Height="35" 
                                     VerticalContentAlignment="Center" IsReadOnly="True"
                                     Margin="0,0,10,0" BorderBrush="#CED4DA" Padding="8"/>
                            <Button x:Name="BrowseButton" Grid.Column="1" Content="📁 Browse" 
                                    Width="100" Height="35" Style="{StaticResource SecondaryButton}"
                                    Click="BrowseButton_Click"/>
                        </Grid>
                    </StackPanel>
                </Grid>
            </GroupBox>

            <!-- Progress Section -->
            <GroupBox Grid.Row="4" Header="📊 Download Progress">
                <StackPanel>
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock x:Name="ProgressLabel" Grid.Column="0" 
                                   Text="Ready to download..." FontSize="12"/>
                        <TextBlock x:Name="ProgressPercentage" Grid.Column="1" 
                                   Text="0%" FontSize="12" FontWeight="SemiBold"/>
                    </Grid>

                    <ProgressBar x:Name="ProgressBar" Height="20" 
                                 Background="#E9ECEF" Foreground="#28A745"/>

                    <Grid Margin="0,10,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock x:Name="SpeedLabel" Grid.Column="0" Text="Speed: --" 
                                   FontSize="10" Foreground="#6C757D"/>
                        <TextBlock x:Name="SizeLabel" Grid.Column="1" Text="Size: --" 
                                   FontSize="10" Foreground="#6C757D" TextAlignment="Center"/>
                        <TextBlock x:Name="EtaLabel" Grid.Column="2" Text="ETA: --" 
                                   FontSize="10" Foreground="#6C757D" TextAlignment="Right"/>
                    </Grid>
                </StackPanel>
            </GroupBox>
        </Grid>
    </ScrollViewer>
</Window>
